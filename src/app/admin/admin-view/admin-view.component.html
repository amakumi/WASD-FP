<html lang="en" class="{{storedTheme}}" role="main">

<div>
    <head>
        <script>
            const toggleSwitch = document.querySelector('.theme-switch input');
    
              function switchTheme(e) {
                  if(e.target.checked) {
                      document.documentElement.setAttribute('data-theme', 'dark');
                      localStorage.setItem('data-theme', 'dark'); //add this
                  }
                  else{
                      document.documentElement.setAttribute('data-theme', 'light');
                      localStorage.setItem('data-theme', 'light'); //add this
                  }
                }
              toggleSwitch.addEventListener('change', switchTheme, false);
              const currentTheme = localStorage.getItem('data-theme');
              if (currentTheme) {
                  document.documentElement.setAttribute('data-theme', currentTheme);
    
                  if (currentTheme === 'dark') {
                      toggleSwitch.checked = true;
                    }
                  };
          </script>
    </head>
    
    <div class="col-md-12 text-right">
      <div class="theme-switcher-wrap">
            <label class="theme-switcher" [ngClass]="(storedTheme === 'dark')?'theme-switcher active' : 'theme-switcher'" (click)="setTheme()">
              <div class="slider round"></div>
              <div class="switch-path"></div>
              <div class="switch-handle"></div>
            </label>
    </div>
</div>


<body>
    <h1>Welcome back, Boss</h1>

    <!--<div class="spinner-container" *ngIf="dataSource.loading$ | async">
        <mat-spinner></mat-spinner>
    </div>-->

    <mat-form-field style="width: 50%">
        <input (keyup)="applyFilter($event)" matInput placeholder="Search user">
    </mat-form-field>

    <mat-table class="lessons-table mat-elevation-z8" [dataSource]="dataSource">

        <ng-container matColumnDef="id">
            <mat-header-cell *matHeaderCellDef>#</mat-header-cell>
            <mat-cell *matCellDef="let data">{{data.id}}</mat-cell>
        </ng-container>
    
        <ng-container matColumnDef="name">
            <mat-header-cell *matHeaderCellDef>Name</mat-header-cell>
            <mat-cell class="description-cell"
                    *matCellDef="let data">{{data.name}}</mat-cell>

        </ng-container>
    
        <ng-container matColumnDef="email">
            <mat-header-cell *matHeaderCellDef>Email</mat-header-cell>
            <mat-cell class="duration-cell"
                    *matCellDef="let data">{{data.email}}</mat-cell>
        </ng-container>

        <ng-container matColumnDef="verified_at">
            <mat-header-cell *matHeaderCellDef>Verified At</mat-header-cell>
            <mat-cell class="duration-cell"
                    *matCellDef="let data">{{data.verified_at}}</mat-cell>
        </ng-container>

        <ng-container matColumnDef="banned">
            <mat-header-cell *matHeaderCellDef>Banned?</mat-header-cell>
            <mat-cell class="duration-cell"
                    *matCellDef="let data">{{data.banned}}</mat-cell>
        </ng-container>
        
        <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
        
        <mat-row *matRowDef="let row; columns: displayedColumns" 
            (click)="onRowClicked(row)">
    </mat-row>
        
    </mat-table>

    <mat-paginator [pageSize]="10"
                   [pageSizeOptions]="[5, 10, 20]" showFirstLastButtons></mat-paginator>


</body>
</div>
</html>
